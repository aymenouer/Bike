
{% extends "temp_admin.html.twig" %}

{% block content %}
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<div class="row mt">
    <div class="col-lg-12">
        <div class="form-panel">
            <h4 class="mb"><i class="fa fa-angle-right"></i> Ajouter Evenement</h4>

            {{ form_start(form, {'attr': {'id': 'form'}}) }}
<form class="form-horizontal style-form">
                <div class="form-group">
                    <label class="col-sm-2 col-sm-2 control-label">Titre</label>
                    <div class="col-sm-10">
                        {{ form_widget(form.titre, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 col-sm-2 control-label">Discroption</label>
                    <div class="col-sm-10">
                        {{ form_widget(form.discription, { 'attr': {'class': 'form-control'} }) }}                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 col-sm-2 control-label">Date Début</label>

                    <div class="col-sm-10">
                        {{ form_widget(form.dated, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 col-sm-2 control-label">Date de Fin</label>
                    <div class="col-sm-10">
                        {{ form_widget(form.dateF, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 col-sm-2 control-label">lieu</label>
                    <div class="col-sm-10">
                        {{ form_widget(form.lieu, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-2 col-sm-2 control-label">Nbre de place</label>
                    <div class="col-lg-10">
                        {{  form_errors(form.nbrplace) }}
                        {{ form_widget(form.nbrplace, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-2 col-sm-2 control-label">Image</label>
                    <div class="col-lg-10">
                        {{ form_widget(form.file, { 'attr': {'class': 'form-control'} }) }}
                    </div>
                </div>
            <input type="submit" value="Enregistrer" class="btn btn-success"/>
            {{ form_end(form) }}
</form>
        </div>
    </div>
    <!-- col-lg-12-->
</div>
    <script>
    const form= document.getElementById('form');
    const errorElement= document.getElementById('errorElement');
    var now = new Date();
    form.addEventListener('submit',(e)=> {
    let message = [];
    //const year= document.getElementById('evenementbundle_evenements_dated_year').value;
  //  const month= document.getElementById('evenementbundle_evenements_dated_month').value;
   // const day= document.getElementById('evenementbundle_evenements_dated_day').value;

    //const yearf= document.getElementById('evenementbundle_evenements_dateF_year').value;
    //const monthf= document.getElementById('evenementbundle_evenements_dateF_month').value;
    //const dayf= document.getElementById('evenementbundle_evenements_dateF_day').value;

    var datef = new Date(document.getElementById('evenementbundle_evenements_dateF').value);
    var date = new Date(document.getElementById('evenementbundle_evenements_dated').value);
    console.log(date , ' ', now)
    if((date < now)|| (date > datef)){
        swal("Oops...","Valider votre date ","error" );
        message.push('Vérifier Votre date')

    }

    if(message.length> 0){

    e.preventDefault();
    errorElement.innerText = message.join(', ')
    }

    })





        </script>

{% endblock %}